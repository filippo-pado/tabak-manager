<div [style.display]='movement.category.name ? "block" : "none"'>
  <form #movementForm="ngForm" (ngSubmit)="onSubmit()">
    <div class='mat-h1'>{{action==='new' ? 'Nuovo' : 'Modifica'}}</div>
    <div fxLayout='row' fxLayoutAlign='space-around' fxLayoutWrap>
      <mat-form-field class='input-text'>
        <input name='category' matInput disabled type="text" placeholder="Categoria" [ngModel]="movement.category.name | titlecase">
      </mat-form-field>
      <mat-form-field class='input-text'>
        <input #date name='date' matInput type="date" placeholder="Data" [ngModel]="movement.date | date:'yyyy-MM-dd'" (ngModelChange)="movement.date = $event">
      </mat-form-field>
      <mat-form-field class='input-number'>
        <input name='amount' matInput type="number" placeholder="{{(movement.category.amountHint | titlecase) || 'Valore'}}" step="0.01"
          [(ngModel)]="movement.amount" (keypress)="validateNumberField($event)" />
      </mat-form-field>
      <mat-form-field class='input-number'>
        <input name='rid' matInput type="number" placeholder="Rid" step="0.01" [(ngModel)]="movement.rid" (keypress)="validateNumberField($event)"
        />
      </mat-form-field>
      <mat-form-field class='input-number'>
        <input name='extraRid' matInput type="number" placeholder="Extra rid" step="0.01" [(ngModel)]="movement.extraRid" (keypress)="validateNumberField($event)"
        />
      </mat-form-field>
      <mat-form-field class='input-text'>
        <input name='note' matInput type="text" placeholder="Note" [(ngModel)]="movement.note" />
      </mat-form-field>
      <span>
        <button class='icon-button' mat-icon-button type='submit' [disabled]='movement.amount===0 && movement.rid===0 && movement.note===""'
          color="primary">
          <mat-icon class='icon-button'>{{action==='new' ? 'note_add' : 'mode_edit' }}</mat-icon>
        </button>
        <button class='icon-button' mat-icon-button type='button' (click)='returnToCategories()' color="warn">
          <mat-icon class='icon-button'>cancel</mat-icon>
        </button>
      </span>
    </div>
  </form>
</div>
